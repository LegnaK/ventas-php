/*!
 * This file is a part of Mibew Messenger.
 *
 * Copyright 2005-2014 the original author or authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(){Handlebars.templates=Handlebars.templates||{};Handlebars.templates.default_control=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,n,e,s){var t,l="function",i=n.helperMissing,r=this.escapeExpression;return"<strong>"+r((t=null!=(t=n.title||(null!=a?a.title:a))?t:i,typeof t===l?t.call(a,{name:"title",hash:{},data:s}):t))+"</strong>"},useData:!0})}(),function(){Handlebars.templates=Handlebars.templates||{};Handlebars.templates.message=Handlebars.template({1:function(a,n,e,s){var t,l="function",i=n.helperMissing,r=this.escapeExpression;return"<span class='n"+r((t=null!=(t=n.kindName||(null!=a?a.kindName:a))?t:i,typeof t===l?t.call(a,{name:"kindName",hash:{},data:s}):t))+"'>"+r((t=null!=(t=n.name||(null!=a?a.name:a))?t:i,typeof t===l?t.call(a,{name:"name",hash:{},data:s}):t))+"</span>: "},3:function(a,n,e,s){var t=n.helperMissing,l=this.escapeExpression;return l((n.urlReplace||a&&a.urlReplace||t).call(a,null!=a?a.message:a,{name:"urlReplace",hash:{},data:s}))},compiler:[6,">= 2.0.0-beta.1"],main:function(a,n,e,s){var t,l,i=n.helperMissing,r=this.escapeExpression,h="function",o="<span>"+r((n.formatTime||a&&a.formatTime||i).call(a,null!=a?a.created:a,{name:"formatTime",hash:{},data:s}))+"</span>\n";return t=n["if"].call(a,null!=a?a.name:a,{name:"if",hash:{},fn:this.program(1,s),inverse:this.noop,data:s}),null!=t&&(o+=t),o+="\n<span class='m"+r((l=null!=(l=n.kindName||(null!=a?a.kindName:a))?l:i,typeof l===h?l.call(a,{name:"kindName",hash:{},data:s}):l))+"'>",t=(n.replace||a&&a.replace||i).call(a,"\\n","<br/>",{name:"replace",hash:{},fn:this.program(3,s),inverse:this.noop,data:s}),null!=t&&(o+=t),o+"</span><br/>"},useData:!0})}(),function(){Handlebars.templates=Handlebars.templates||{};Handlebars.templates["users/agent"]=Handlebars.template({1:function(){return"away"},3:function(){return"online"},5:function(a,n,e,s){var t=n.helperMissing,l=this.escapeExpression;return l((n.l10n||a&&a.l10n||t).call(a,"Away",{name:"l10n",hash:{},data:s}))},7:function(a,n,e,s){var t=n.helperMissing,l=this.escapeExpression;return l((n.l10n||a&&a.l10n||t).call(a,"Up to date",{name:"l10n",hash:{},data:s}))},9:function(){return","},compiler:[6,">= 2.0.0-beta.1"],main:function(a,n,e,s){var t,l,i="function",r=n.helperMissing,h=this.escapeExpression,o='<span class="agent-status-';return t=n["if"].call(a,null!=a?a.away:a,{name:"if",hash:{},fn:this.program(1,s),inverse:this.program(3,s),data:s}),null!=t&&(o+=t),o+=' inline-block" title="',t=n["if"].call(a,null!=a?a.away:a,{name:"if",hash:{},fn:this.program(5,s),inverse:this.program(7,s),data:s}),null!=t&&(o+=t),o+='"></span>'+h((l=null!=(l=n.name||(null!=a?a.name:a))?l:r,typeof l===i?l.call(a,{name:"name",hash:{},data:s}):l)),t=n.unless.call(a,null!=a?a.isLast:a,{name:"unless",hash:{},fn:this.program(9,s),inverse:this.noop,data:s}),null!=t&&(o+=t),o},useData:!0})}(),function(){Handlebars.templates=Handlebars.templates||{};Handlebars.templates["users/no_threads"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,n,e,s){var t=n.helperMissing,l=this.escapeExpression;return'<td class="no-threads" colspan="8">'+l((n.l10n||a&&a.l10n||t).call(a,"The list of visitors waiting is empty",{name:"l10n",hash:{},data:s}))+"</td>"},useData:!0})}(),function(){Handlebars.templates=Handlebars.templates||{};Handlebars.templates["users/no_visitors"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,n,e,s){var t=n.helperMissing,l=this.escapeExpression;return'<td class="no-visitors" colspan="9">'+l((n.l10n||a&&a.l10n||t).call(a,"There are no visitors ready to chat on your site at present time",{name:"l10n",hash:{},data:s}))+"</td>"},useData:!0})}(),function(){Handlebars.templates=Handlebars.templates||{};Handlebars.templates["users/queued_thread"]=Handlebars.template({1:function(a,n,e,s){var t=n.helperMissing,l=this.escapeExpression;return l((n.l10n||a&&a.l10n||t).call(a,"Click to chat with the visitor",{name:"l10n",hash:{},data:s}))},3:function(a,n,e,s){var t=n.helperMissing,l=this.escapeExpression;return l((n.l10n||a&&a.l10n||t).call(a,"Watch the chat",{name:"l10n",hash:{},data:s}))},5:function(a,n,e,s){var t=n.helperMissing,l=this.escapeExpression;return l((n.l10n||a&&a.l10n||t).call(a,"[spam]",{name:"l10n",hash:{},data:s}))+"&nbsp;"},7:function(a,n,e,s){var t,l="function",i=n.helperMissing,r=this.escapeExpression;return'<div class="first-message"><a href="javascript:void(0);" title="'+r((t=null!=(t=n.firstMessage||(null!=a?a.firstMessage:a))?t:i,typeof t===l?t.call(a,{name:"firstMessage",hash:{},data:s}):t))+'">'+r((t=null!=(t=n.firstMessagePreview||(null!=a?a.firstMessagePreview:a))?t:i,typeof t===l?t.call(a,{name:"firstMessagePreview",hash:{},data:s}):t))+"</a></div>"},9:function(a,n,e,s){var t=n.helperMissing,l=this.escapeExpression;return'            <div class="control open-dialog open-control inline-block" title="'+l((n.l10n||a&&a.l10n||t).call(a,"Click to chat with the visitor",{name:"l10n",hash:{},data:s}))+'"></div>\n'},11:function(a,n,e,s){var t=n.helperMissing,l=this.escapeExpression;return'            <div class="control view-control inline-block" title="'+l((n.l10n||a&&a.l10n||t).call(a,"Watch the chat",{name:"l10n",hash:{},data:s}))+'"></div>\n'},13:function(a,n,e,s){var t=n.helperMissing,l=this.escapeExpression;return'            <div class="control track-control inline-block" title="'+l((n.l10n||a&&a.l10n||t).call(a,"Tracked visitor's path",{name:"l10n",hash:{},data:s}))+'"></div>\n'},15:function(a,n,e,s){var t=n.helperMissing,l=this.escapeExpression;return'            <div class="control ban-control inline-block" title="'+l((n.l10n||a&&a.l10n||t).call(a,"Ban this visitor",{name:"l10n",hash:{},data:s}))+'"></div>\n'},17:function(a,n,e,s){var t,l="function",i=n.helperMissing,r=this.escapeExpression;return'<a href="javascript:void(0);" class="geo-link" title="GeoLocation">'+r((t=null!=(t=n.remote||(null!=a?a.remote:a))?t:i,typeof t===l?t.call(a,{name:"remote",hash:{},data:s}):t))+"</a>"},19:function(a,n,e,s){var t,l="function",i=n.helperMissing,r=this.escapeExpression;return r((t=null!=(t=n.remote||(null!=a?a.remote:a))?t:i,typeof t===l?t.call(a,{name:"remote",hash:{},data:s}):t))},21:function(a,n,e,s){var t,l="function",i=n.helperMissing,r=this.escapeExpression;return'<span class="timesince" data-timestamp="'+r((t=null!=(t=n.waitingTime||(null!=a?a.waitingTime:a))?t:i,typeof t===l?t.call(a,{name:"waitingTime",hash:{},data:s}):t))+'"></span>'},23:function(){return"-"},25:function(a){var n,e=this.lambda,s=this.escapeExpression;return s(e(null!=(n=null!=a?a.ban:a)?n.reason:n,a))},27:function(a,n,e,s){var t,l="function",i=n.helperMissing,r=this.escapeExpression;return r((t=null!=(t=n.userAgent||(null!=a?a.userAgent:a))?t:i,typeof t===l?t.call(a,{name:"userAgent",hash:{},data:s}):t))},compiler:[6,">= 2.0.0-beta.1"],main:function(a,n,e,s){var t,l,i="function",r=n.helperMissing,h=this.escapeExpression,o='<td class="visitor">\n    <div><a href="javascript:void(0);" class="user-name open-dialog" title="';return t=n["if"].call(a,null!=a?a.canOpen:a,{name:"if",hash:{},fn:this.program(1,s),inverse:this.program(3,s),data:s}),null!=t&&(o+=t),o+='">',t=n["if"].call(a,null!=a?a.ban:a,{name:"if",hash:{},fn:this.program(5,s),inverse:this.noop,data:s}),null!=t&&(o+=t),o+=h((l=null!=(l=n.userName||(null!=a?a.userName:a))?l:r,typeof l===i?l.call(a,{name:"userName",hash:{},data:s}):l))+"</a></div>\n    ",t=n["if"].call(a,null!=a?a.firstMessage:a,{name:"if",hash:{},fn:this.program(7,s),inverse:this.noop,data:s}),null!=t&&(o+=t),o+='\n</td>\n<td class="visitor">\n    <div class="default-thread-controls inline-block">\n',t=n["if"].call(a,null!=a?a.canOpen:a,{name:"if",hash:{},fn:this.program(9,s),inverse:this.noop,data:s}),null!=t&&(o+=t),t=n["if"].call(a,null!=a?a.canView:a,{name:"if",hash:{},fn:this.program(11,s),inverse:this.noop,data:s}),null!=t&&(o+=t),t=n["if"].call(a,null!=a?a.tracked:a,{name:"if",hash:{},fn:this.program(13,s),inverse:this.noop,data:s}),null!=t&&(o+=t),t=n["if"].call(a,null!=a?a.canBan:a,{name:"if",hash:{},fn:this.program(15,s),inverse:this.noop,data:s}),null!=t&&(o+=t),o+='    </div>\n    <div class="thread-controls inline-block"></div>\n</td>\n<td class="visitor">',t=n["if"].call(a,null!=a?a.userIp:a,{name:"if",hash:{},fn:this.program(17,s),inverse:this.program(19,s),data:s}),null!=t&&(o+=t),o+='</td>\n<td class="visitor">'+h((l=null!=(l=n.stateDesc||(null!=a?a.stateDesc:a))?l:r,typeof l===i?l.call(a,{name:"stateDesc",hash:{},data:s}):l))+'</td>\n<td class="visitor">'+h((l=null!=(l=n.agentName||(null!=a?a.agentName:a))?l:r,typeof l===i?l.call(a,{name:"agentName",hash:{},data:s}):l))+'</td>\n<td class="visitor"><span class="timesince" data-timestamp="'+h((l=null!=(l=n.totalTime||(null!=a?a.totalTime:a))?l:r,typeof l===i?l.call(a,{name:"totalTime",hash:{},data:s}):l))+'"></span></td>\n<td class="visitor">',t=n.unless.call(a,null!=a?a.chatting:a,{name:"unless",hash:{},fn:this.program(21,s),inverse:this.program(23,s),data:s}),null!=t&&(o+=t),o+='</td>\n<td class="visitor">',t=n["if"].call(a,null!=a?a.ban:a,{name:"if",hash:{},fn:this.program(25,s),inverse:this.program(27,s),data:s}),null!=t&&(o+=t),o+"</td>"},useData:!0})}(),function(){Handlebars.templates=Handlebars.templates||{};Handlebars.templates["users/status_panel"]=Handlebars.template({1:function(a,n,e,s){var t=n.helperMissing,l=this.escapeExpression;return l((n.l10n||a&&a.l10n||t).call(a,"Away",{name:"l10n",hash:{},data:s}))},3:function(a,n,e,s){var t=n.helperMissing,l=this.escapeExpression;return l((n.l10n||a&&a.l10n||t).call(a,"Up to date",{name:"l10n",hash:{},data:s}))},5:function(a,n,e,s){var t=n.helperMissing,l=this.escapeExpression;return l((n.l10n||a&&a.l10n||t).call(a,'Set status as "Available"',{name:"l10n",hash:{},data:s}))},7:function(a,n,e,s){var t=n.helperMissing,l=this.escapeExpression;return l((n.l10n||a&&a.l10n||t).call(a,'Set status as "Away"',{name:"l10n",hash:{},data:s}))},compiler:[6,">= 2.0.0-beta.1"],main:function(a,n,e,s){var t,l,i="function",r=n.helperMissing,h=this.escapeExpression,o='<div id="connstatus">'+h((l=null!=(l=n.message||(null!=a?a.message:a))?l:r,typeof l===i?l.call(a,{name:"message",hash:{},data:s}):l));return t=n["if"].call(a,null!=(t=null!=a?a.agent:a)?t.away:t,{name:"if",hash:{},fn:this.program(1,s),inverse:this.program(3,s),data:s}),null!=t&&(o+=t),o+='</div><div id="connlinks"><a href="javascript:void(0);" id="change-status">',t=n["if"].call(a,null!=(t=null!=a?a.agent:a)?t.away:t,{name:"if",hash:{},fn:this.program(5,s),inverse:this.program(7,s),data:s}),null!=t&&(o+=t),o+"</a></div>"},useData:!0})}(),function(){Handlebars.templates=Handlebars.templates||{};Handlebars.templates["users/threads_collection"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,n,e,s){var t=n.helperMissing,l=this.escapeExpression;return'<table class="awaiting" border="0">\n<thead>\n<tr>\n    <th class="first">'+l((n.l10n||a&&a.l10n||t).call(a,"Name",{name:"l10n",hash:{},data:s}))+"</th>\n    <th>"+l((n.l10n||a&&a.l10n||t).call(a,"Actions",{name:"l10n",hash:{},data:s}))+"</th>\n    <th>"+l((n.l10n||a&&a.l10n||t).call(a,"Visitor's address",{name:"l10n",hash:{},data:s}))+"</th>\n    <th>"+l((n.l10n||a&&a.l10n||t).call(a,"State",{name:"l10n",hash:{},data:s}))+"</th>\n    <th>"+l((n.l10n||a&&a.l10n||t).call(a,"Operator",{name:"l10n",hash:{},data:s}))+"</th>\n    <th>"+l((n.l10n||a&&a.l10n||t).call(a,"Total time",{name:"l10n",hash:{},data:s}))+"</th>\n    <th>"+l((n.l10n||a&&a.l10n||t).call(a,"Waiting time",{name:"l10n",hash:{},data:s}))+"</th>\n    <th>"+l((n.l10n||a&&a.l10n||t).call(a,"Misc",{name:"l10n",hash:{},data:s}))+'</th>\n</tr>\n</thead>\n<tbody id="threads-container">\n\n</tbody>\n</table>'},useData:!0})}(),function(){Handlebars.templates=Handlebars.templates||{};Handlebars.templates["users/visitor"]=Handlebars.template({1:function(a,n,e,s){var t,l=n.helperMissing,i=this.escapeExpression,r="function";return'<a href="javascript:void(0);" class="invite-link" title="'+i((n.l10n||a&&a.l10n||l).call(a,"Invite to chat",{name:"l10n",hash:{},data:s}))+'">'+i((t=null!=(t=n.userName||(null!=a?a.userName:a))?t:l,typeof t===r?t.call(a,{name:"userName",hash:{},data:s}):t))+"</a>"},3:function(a,n,e,s){var t,l="function",i=n.helperMissing,r=this.escapeExpression;return r((t=null!=(t=n.userName||(null!=a?a.userName:a))?t:i,typeof t===l?t.call(a,{name:"userName",hash:{},data:s}):t))},5:function(a,n,e,s){var t,l="function",i=n.helperMissing,r=this.escapeExpression;return'<a href="javascript:void(0);" class="geo-link" title="GeoLocation">'+r((t=null!=(t=n.remote||(null!=a?a.remote:a))?t:i,typeof t===l?t.call(a,{name:"remote",hash:{},data:s}):t))+"</a>"},7:function(a,n,e,s){var t,l="function",i=n.helperMissing,r=this.escapeExpression;return r((t=null!=(t=n.remote||(null!=a?a.remote:a))?t:i,typeof t===l?t.call(a,{name:"remote",hash:{},data:s}):t))},9:function(a){var n,e=this.lambda,s=this.escapeExpression;return s(e(null!=(n=null!=a?a.invitationInfo:a)?n.agentName:n,a))},11:function(){return"-"},13:function(a){var n,e=this.lambda,s=this.escapeExpression;return'<span class="timesince" data-timestamp="'+s(e(null!=(n=null!=a?a.invitationInfo:a)?n.time:n,a))+'"></span>'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,n,e,s){var t,l,i=n.helperMissing,r=this.escapeExpression,h="function",o='<td class="visitor">\n    ';return t=n.unless.call(a,null!=a?a.invitationInfo:a,{name:"unless",hash:{},fn:this.program(1,s),inverse:this.program(3,s),data:s}),null!=t&&(o+=t),o+='\n</td>\n<td class="visitor">\n    <div class="default-visitor-controls inline-block">\n        <div class="control track-control inline-block" title="'+r((n.l10n||a&&a.l10n||i).call(a,"Tracked visitor's path",{name:"l10n",hash:{},data:s}))+'"></div>\n    </div>\n    <div class="visitor-controls inline-block"></div>\n</td>\n<td class="visitor">',t=n["if"].call(a,null!=a?a.userIp:a,{name:"if",hash:{},fn:this.program(5,s),inverse:this.program(7,s),data:s}),null!=t&&(o+=t),o+='</td>\n<td class="visitor"><span class="timesince" data-timestamp="'+r((l=null!=(l=n.firstTime||(null!=a?a.firstTime:a))?l:i,typeof l===h?l.call(a,{name:"firstTime",hash:{},data:s}):l))+'"></span></td>\n<td class="visitor"><span class="timesince" data-timestamp="'+r((l=null!=(l=n.lastTime||(null!=a?a.lastTime:a))?l:i,typeof l===h?l.call(a,{name:"lastTime",hash:{},data:s}):l))+'"></span></td>\n<td class="visitor">',t=n["if"].call(a,null!=a?a.invitationInfo:a,{name:"if",hash:{},fn:this.program(9,s),inverse:this.program(11,s),data:s}),null!=t&&(o+=t),o+='</td>\n<td class="visitor">',t=n["if"].call(a,null!=a?a.invitationInfo:a,{name:"if",hash:{},fn:this.program(13,s),inverse:this.program(11,s),data:s}),null!=t&&(o+=t),o+'</td>\n<td class="visitor">'+r((l=null!=(l=n.invitations||(null!=a?a.invitations:a))?l:i,typeof l===h?l.call(a,{name:"invitations",hash:{},data:s}):l))+" / "+r((l=null!=(l=n.chats||(null!=a?a.chats:a))?l:i,typeof l===h?l.call(a,{name:"chats",hash:{},data:s}):l))+'</td>\n<td class="visitor">'+r((l=null!=(l=n.userAgent||(null!=a?a.userAgent:a))?l:i,typeof l===h?l.call(a,{name:"userAgent",hash:{},data:s}):l))+"</td>"},useData:!0})}(),function(){Handlebars.templates=Handlebars.templates||{};Handlebars.templates["users/visitors_collection"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,n,e,s){var t=n.helperMissing,l=this.escapeExpression;return'<table id="visitorslist" class="awaiting" border="0">\n<thead>\n<tr>\n    <th class="first">'+l((n.l10n||a&&a.l10n||t).call(a,"Name",{name:"l10n",hash:{},data:s}))+"</th>\n    <th>"+l((n.l10n||a&&a.l10n||t).call(a,"Actions",{name:"l10n",hash:{},data:s}))+"</th>\n    <th>"+l((n.l10n||a&&a.l10n||t).call(a,"Visitor's address",{name:"l10n",hash:{},data:s}))+"</th>\n    <th>"+l((n.l10n||a&&a.l10n||t).call(a,"First seen",{name:"l10n",hash:{},data:s}))+"</th>\n    <th>"+l((n.l10n||a&&a.l10n||t).call(a,"Last seen",{name:"l10n",hash:{},data:s}))+"</th>\n    <th>"+l((n.l10n||a&&a.l10n||t).call(a,"Invited by",{name:"l10n",hash:{},data:s}))+"</th>\n    <th>"+l((n.l10n||a&&a.l10n||t).call(a,"Invitation time",{name:"l10n",hash:{},data:s}))+"</th>\n    <th>"+l((n.l10n||a&&a.l10n||t).call(a,"Invitations / Chats",{name:"l10n",hash:{},data:s}))+"</th>\n    <th>"+l((n.l10n||a&&a.l10n||t).call(a,"Misc",{name:"l10n",hash:{},data:s}))+'</th>\n</tr>\n</thead>\n<tbody id="visitors-container">\n</tbody>\n</table>'},useData:!0})}();