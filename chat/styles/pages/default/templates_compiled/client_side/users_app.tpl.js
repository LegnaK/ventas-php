/*!
 * This file is a part of Mibew Messenger.
 *
 * Copyright 2005-2014 the original author or authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(){Handlebars.templates=Handlebars.templates||{};Handlebars.templates.agent=Handlebars.template(function(a,t,l,n,s){function e(){return"away"}function i(){return"online"}function r(a,t){var n,s;return f((n=l.l10n||a&&a.l10n,s={hash:{},data:t},n?n.call(a,"Away",s):v.call(a,"l10n","Away",s)))}function c(a,t){var n,s;return f((n=l.l10n||a&&a.l10n,s={hash:{},data:t},n?n.call(a,"Up to date",s):v.call(a,"l10n","Up to date",s)))}function h(){return","}this.compilerInfo=[4,">= 1.0.0"],l=this.merge(l,a.helpers),s=s||{};var o,d,p="",v=l.helperMissing,f=this.escapeExpression,m=this,u="function";return p+='<span class="agent-status-',o=l["if"].call(t,t&&t.away,{hash:{},inverse:m.program(3,i,s),fn:m.program(1,e,s),data:s}),(o||0===o)&&(p+=o),p+=' inline-block" title="',o=l["if"].call(t,t&&t.away,{hash:{},inverse:m.program(7,c,s),fn:m.program(5,r,s),data:s}),(o||0===o)&&(p+=o),p+='"></span>',(d=l.name)?o=d.call(t,{hash:{},data:s}):(d=t&&t.name,o=typeof d===u?d.call(t,{hash:{},data:s}):d),p+=f(o),o=l.unless.call(t,t&&t.isLast,{hash:{},inverse:m.noop,fn:m.program(9,h,s),data:s}),(o||0===o)&&(p+=o),p})}(),function(){Handlebars.templates=Handlebars.templates||{};Handlebars.templates.no_threads=Handlebars.template(function(a,t,l,n,s){this.compilerInfo=[4,">= 1.0.0"],l=this.merge(l,a.helpers),s=s||{};var e,i,r="",c=l.helperMissing,h=this.escapeExpression;return r+='<td class="no-threads" colspan="8">'+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"The list of visitors waiting is empty",i):c.call(t,"l10n","The list of visitors waiting is empty",i)))+"</td>"})}(),function(){Handlebars.templates=Handlebars.templates||{};Handlebars.templates.no_visitors=Handlebars.template(function(a,t,l,n,s){this.compilerInfo=[4,">= 1.0.0"],l=this.merge(l,a.helpers),s=s||{};var e,i,r="",c=l.helperMissing,h=this.escapeExpression;return r+='<td class="no-visitors" colspan="9">'+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"There are no visitors ready to chat on your site at present time",i):c.call(t,"l10n","There are no visitors ready to chat on your site at present time",i)))+"</td>"})}(),function(){Handlebars.templates=Handlebars.templates||{};Handlebars.templates.queued_thread=Handlebars.template(function(a,t,l,n,s){function e(a,t){var n,s;return I((n=l.l10n||a&&a.l10n,s={hash:{},data:t},n?n.call(a,"Click to chat with the visitor",s):w.call(a,"l10n","Click to chat with the visitor",s)))}function i(a,t){var n,s;return I((n=l.l10n||a&&a.l10n,s={hash:{},data:t},n?n.call(a,"Watch the chat",s):w.call(a,"l10n","Watch the chat",s)))}function r(a,t){var n,s,e="";return e+=I((n=l.l10n||a&&a.l10n,s={hash:{},data:t},n?n.call(a,"[spam]",s):w.call(a,"l10n","[spam]",s)))+"&nbsp;"}function c(a,t){var n,s,e="";return e+='<div class="first-message"><a href="javascript:void(0);" title="',(s=l.firstMessage)?n=s.call(a,{hash:{},data:t}):(s=a&&a.firstMessage,n=typeof s===T?s.call(a,{hash:{},data:t}):s),e+=I(n)+'">',(s=l.firstMessagePreview)?n=s.call(a,{hash:{},data:t}):(s=a&&a.firstMessagePreview,n=typeof s===T?s.call(a,{hash:{},data:t}):s),e+=I(n)+"</a></div>"}function h(a,t){var n,s,e="";return e+='\n            <div class="control open-dialog open-control inline-block" title="'+I((n=l.l10n||a&&a.l10n,s={hash:{},data:t},n?n.call(a,"Click to chat with the visitor",s):w.call(a,"l10n","Click to chat with the visitor",s)))+'"></div>\n        '}function o(a,t){var n,s,e="";return e+='\n            <div class="control view-control inline-block" title="'+I((n=l.l10n||a&&a.l10n,s={hash:{},data:t},n?n.call(a,"Watch the chat",s):w.call(a,"l10n","Watch the chat",s)))+'"></div>\n        '}function d(a,t){var n,s,e="";return e+='\n            <div class="control track-control inline-block" title="'+I((n=l.l10n||a&&a.l10n,s={hash:{},data:t},n?n.call(a,"Tracked visitor's path",s):w.call(a,"l10n","Tracked visitor's path",s)))+'"></div>\n        '}function p(a,t){var n,s,e="";return e+='\n            <div class="control ban-control inline-block" title="'+I((n=l.l10n||a&&a.l10n,s={hash:{},data:t},n?n.call(a,"Ban this visitor",s):w.call(a,"l10n","Ban this visitor",s)))+'"></div>\n        '}function v(a,t){var n,s,e="";return e+='<a href="javascript:void(0);" class="geo-link" title="GeoLocation">',(s=l.remote)?n=s.call(a,{hash:{},data:t}):(s=a&&a.remote,n=typeof s===T?s.call(a,{hash:{},data:t}):s),e+=I(n)+"</a>"}function f(a,t){var n,s;return(s=l.remote)?n=s.call(a,{hash:{},data:t}):(s=a&&a.remote,n=typeof s===T?s.call(a,{hash:{},data:t}):s),I(n)}function m(a,t){var n,s,e="";return e+='<span class="timesince" data-timestamp="',(s=l.waitingTime)?n=s.call(a,{hash:{},data:t}):(s=a&&a.waitingTime,n=typeof s===T?s.call(a,{hash:{},data:t}):s),e+=I(n)+'"></span>'}function u(){return"-"}function g(a){var t;return I((t=a&&a.ban,t=null==t||t===!1?t:t.reason,typeof t===T?t.apply(a):t))}function b(a,t){var n,s;return(s=l.userAgent)?n=s.call(a,{hash:{},data:t}):(s=a&&a.userAgent,n=typeof s===T?s.call(a,{hash:{},data:t}):s),I(n)}this.compilerInfo=[4,">= 1.0.0"],l=this.merge(l,a.helpers),s=s||{};var y,H,k="",w=l.helperMissing,I=this.escapeExpression,T="function",M=this;return k+='<td class="visitor">\n    <div><a href="javascript:void(0);" class="user-name open-dialog" title="',y=l["if"].call(t,t&&t.canOpen,{hash:{},inverse:M.program(3,i,s),fn:M.program(1,e,s),data:s}),(y||0===y)&&(k+=y),k+='">',y=l["if"].call(t,t&&t.ban,{hash:{},inverse:M.noop,fn:M.program(5,r,s),data:s}),(y||0===y)&&(k+=y),(H=l.userName)?y=H.call(t,{hash:{},data:s}):(H=t&&t.userName,y=typeof H===T?H.call(t,{hash:{},data:s}):H),k+=I(y)+"</a></div>\n    ",y=l["if"].call(t,t&&t.firstMessage,{hash:{},inverse:M.noop,fn:M.program(7,c,s),data:s}),(y||0===y)&&(k+=y),k+='\n</td>\n<td class="visitor">\n    <div class="default-thread-controls inline-block">\n        ',y=l["if"].call(t,t&&t.canOpen,{hash:{},inverse:M.noop,fn:M.program(9,h,s),data:s}),(y||0===y)&&(k+=y),k+="\n        ",y=l["if"].call(t,t&&t.canView,{hash:{},inverse:M.noop,fn:M.program(11,o,s),data:s}),(y||0===y)&&(k+=y),k+="\n        ",y=l["if"].call(t,t&&t.tracked,{hash:{},inverse:M.noop,fn:M.program(13,d,s),data:s}),(y||0===y)&&(k+=y),k+="\n        ",y=l["if"].call(t,t&&t.canBan,{hash:{},inverse:M.noop,fn:M.program(15,p,s),data:s}),(y||0===y)&&(k+=y),k+='\n    </div>\n    <div class="thread-controls inline-block"></div>\n</td>\n<td class="visitor">',y=l["if"].call(t,t&&t.userIp,{hash:{},inverse:M.program(19,f,s),fn:M.program(17,v,s),data:s}),(y||0===y)&&(k+=y),k+='</td>\n<td class="visitor">',(H=l.stateDesc)?y=H.call(t,{hash:{},data:s}):(H=t&&t.stateDesc,y=typeof H===T?H.call(t,{hash:{},data:s}):H),k+=I(y)+'</td>\n<td class="visitor">',(H=l.agentName)?y=H.call(t,{hash:{},data:s}):(H=t&&t.agentName,y=typeof H===T?H.call(t,{hash:{},data:s}):H),k+=I(y)+'</td>\n<td class="visitor"><span class="timesince" data-timestamp="',(H=l.totalTime)?y=H.call(t,{hash:{},data:s}):(H=t&&t.totalTime,y=typeof H===T?H.call(t,{hash:{},data:s}):H),k+=I(y)+'"></span></td>\n<td class="visitor">',y=l.unless.call(t,t&&t.chatting,{hash:{},inverse:M.program(23,u,s),fn:M.program(21,m,s),data:s}),(y||0===y)&&(k+=y),k+='</td>\n<td class="visitor">',y=l["if"].call(t,t&&t.ban,{hash:{},inverse:M.program(27,b,s),fn:M.program(25,g,s),data:s}),(y||0===y)&&(k+=y),k+="</td>"})}(),function(){Handlebars.templates=Handlebars.templates||{};Handlebars.templates.status_panel=Handlebars.template(function(a,t,l,n,s){function e(a,t){var n,s;return v((n=l.l10n||a&&a.l10n,s={hash:{},data:t},n?n.call(a,"Away",s):p.call(a,"l10n","Away",s)))}function i(a,t){var n,s;return v((n=l.l10n||a&&a.l10n,s={hash:{},data:t},n?n.call(a,"Up to date",s):p.call(a,"l10n","Up to date",s)))}function r(a,t){var n,s;return v((n=l.l10n||a&&a.l10n,s={hash:{},data:t},n?n.call(a,'Set status as "Available"',s):p.call(a,"l10n",'Set status as "Available"',s)))}function c(a,t){var n,s;return v((n=l.l10n||a&&a.l10n,s={hash:{},data:t},n?n.call(a,'Set status as "Away"',s):p.call(a,"l10n",'Set status as "Away"',s)))}this.compilerInfo=[4,">= 1.0.0"],l=this.merge(l,a.helpers),s=s||{};var h,o,d="",p=l.helperMissing,v=this.escapeExpression,f="function",m=this;return d+='<div id="connstatus">',(o=l.message)?h=o.call(t,{hash:{},data:s}):(o=t&&t.message,h=typeof o===f?o.call(t,{hash:{},data:s}):o),d+=v(h),h=l["if"].call(t,(h=t&&t.agent,null==h||h===!1?h:h.away),{hash:{},inverse:m.program(3,i,s),fn:m.program(1,e,s),data:s}),(h||0===h)&&(d+=h),d+='</div><div id="connlinks"><a href="javascript:void(0);" id="change-status">',h=l["if"].call(t,(h=t&&t.agent,null==h||h===!1?h:h.away),{hash:{},inverse:m.program(7,c,s),fn:m.program(5,r,s),data:s}),(h||0===h)&&(d+=h),d+="</a></div>"})}(),function(){Handlebars.templates=Handlebars.templates||{};Handlebars.templates.threads_collection=Handlebars.template(function(a,t,l,n,s){this.compilerInfo=[4,">= 1.0.0"],l=this.merge(l,a.helpers),s=s||{};var e,i,r="",c=l.helperMissing,h=this.escapeExpression;return r+='<table class="awaiting" border="0">\n<thead>\n<tr>\n    <th class="first">'+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"Name",i):c.call(t,"l10n","Name",i)))+"</th>\n    <th>"+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"Actions",i):c.call(t,"l10n","Actions",i)))+"</th>\n    <th>"+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"Visitor's address",i):c.call(t,"l10n","Visitor's address",i)))+"</th>\n    <th>"+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"State",i):c.call(t,"l10n","State",i)))+"</th>\n    <th>"+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"Operator",i):c.call(t,"l10n","Operator",i)))+"</th>\n    <th>"+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"Total time",i):c.call(t,"l10n","Total time",i)))+"</th>\n    <th>"+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"Waiting time",i):c.call(t,"l10n","Waiting time",i)))+"</th>\n    <th>"+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"Misc",i):c.call(t,"l10n","Misc",i)))+'</th>\n</tr>\n</thead>\n<tbody id="threads-container">\n\n</tbody>\n</table>'})}(),function(){Handlebars.templates=Handlebars.templates||{};Handlebars.templates.visitor=Handlebars.template(function(a,t,l,n,s){function e(a,t){var n,s,e,i="";return i+='<a href="javascript:void(0);" class="invite-link" title="'+g((s=l.l10n||a&&a.l10n,e={hash:{},data:t},s?s.call(a,"Invite to chat",e):u.call(a,"l10n","Invite to chat",e)))+'">',(s=l.userName)?n=s.call(a,{hash:{},data:t}):(s=a&&a.userName,n=typeof s===b?s.call(a,{hash:{},data:t}):s),i+=g(n)+"</a>"}function i(a,t){var n,s;return(s=l.userName)?n=s.call(a,{hash:{},data:t}):(s=a&&a.userName,n=typeof s===b?s.call(a,{hash:{},data:t}):s),g(n)}function r(a,t){var n,s,e="";return e+='<a href="javascript:void(0);" class="geo-link" title="GeoLocation">',(s=l.remote)?n=s.call(a,{hash:{},data:t}):(s=a&&a.remote,n=typeof s===b?s.call(a,{hash:{},data:t}):s),e+=g(n)+"</a>"}function c(a,t){var n,s;return(s=l.remote)?n=s.call(a,{hash:{},data:t}):(s=a&&a.remote,n=typeof s===b?s.call(a,{hash:{},data:t}):s),g(n)}function h(a){var t;return g((t=a&&a.invitationInfo,t=null==t||t===!1?t:t.agentName,typeof t===b?t.apply(a):t))}function o(){return"-"}function d(a){var t,l="";return l+='<span class="timesince" data-timestamp="'+g((t=a&&a.invitationInfo,t=null==t||t===!1?t:t.time,typeof t===b?t.apply(a):t))+'"></span>'}this.compilerInfo=[4,">= 1.0.0"],l=this.merge(l,a.helpers),s=s||{};var p,v,f,m="",u=l.helperMissing,g=this.escapeExpression,b="function",y=this;return m+='<td class="visitor">\n    ',p=l.unless.call(t,t&&t.invitationInfo,{hash:{},inverse:y.program(3,i,s),fn:y.program(1,e,s),data:s}),(p||0===p)&&(m+=p),m+='\n</td>\n<td class="visitor">\n    <div class="default-visitor-controls inline-block">\n        <div class="control track-control inline-block" title="'+g((v=l.l10n||t&&t.l10n,f={hash:{},data:s},v?v.call(t,"Tracked visitor's path",f):u.call(t,"l10n","Tracked visitor's path",f)))+'"></div>\n    </div>\n    <div class="visitor-controls inline-block"></div>\n</td>\n<td class="visitor">',p=l["if"].call(t,t&&t.userIp,{hash:{},inverse:y.program(7,c,s),fn:y.program(5,r,s),data:s}),(p||0===p)&&(m+=p),m+='</td>\n<td class="visitor"><span class="timesince" data-timestamp="',(v=l.firstTime)?p=v.call(t,{hash:{},data:s}):(v=t&&t.firstTime,p=typeof v===b?v.call(t,{hash:{},data:s}):v),m+=g(p)+'"></span></td>\n<td class="visitor"><span class="timesince" data-timestamp="',(v=l.lastTime)?p=v.call(t,{hash:{},data:s}):(v=t&&t.lastTime,p=typeof v===b?v.call(t,{hash:{},data:s}):v),m+=g(p)+'"></span></td>\n<td class="visitor">',p=l["if"].call(t,t&&t.invitationInfo,{hash:{},inverse:y.program(11,o,s),fn:y.program(9,h,s),data:s}),(p||0===p)&&(m+=p),m+='</td>\n<td class="visitor">',p=l["if"].call(t,t&&t.invitationInfo,{hash:{},inverse:y.program(11,o,s),fn:y.program(13,d,s),data:s}),(p||0===p)&&(m+=p),m+='</td>\n<td class="visitor">',(v=l.invitations)?p=v.call(t,{hash:{},data:s}):(v=t&&t.invitations,p=typeof v===b?v.call(t,{hash:{},data:s}):v),m+=g(p)+" / ",(v=l.chats)?p=v.call(t,{hash:{},data:s}):(v=t&&t.chats,p=typeof v===b?v.call(t,{hash:{},data:s}):v),m+=g(p)+'</td>\n<td class="visitor">',(v=l.userAgent)?p=v.call(t,{hash:{},data:s}):(v=t&&t.userAgent,p=typeof v===b?v.call(t,{hash:{},data:s}):v),m+=g(p)+"</td>"})}(),function(){Handlebars.templates=Handlebars.templates||{};Handlebars.templates.visitors_collection=Handlebars.template(function(a,t,l,n,s){this.compilerInfo=[4,">= 1.0.0"],l=this.merge(l,a.helpers),s=s||{};var e,i,r="",c=l.helperMissing,h=this.escapeExpression;return r+='<table id="visitorslist" class="awaiting" border="0">\n<thead>\n<tr>\n    <th class="first">'+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"Name",i):c.call(t,"l10n","Name",i)))+"</th>\n    <th>"+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"Actions",i):c.call(t,"l10n","Actions",i)))+"</th>\n    <th>"+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"Visitor's address",i):c.call(t,"l10n","Visitor's address",i)))+"</th>\n    <th>"+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"First seen",i):c.call(t,"l10n","First seen",i)))+"</th>\n    <th>"+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"Last seen",i):c.call(t,"l10n","Last seen",i)))+"</th>\n    <th>"+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"Invited by",i):c.call(t,"l10n","Invited by",i)))+"</th>\n    <th>"+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"Invitation time",i):c.call(t,"l10n","Invitation time",i)))+"</th>\n    <th>"+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"Invitations / Chats",i):c.call(t,"l10n","Invitations / Chats",i)))+"</th>\n    <th>"+h((e=l.l10n||t&&t.l10n,i={hash:{},data:s},e?e.call(t,"Misc",i):c.call(t,"l10n","Misc",i)))+'</th>\n</tr>\n</thead>\n<tbody id="visitors-container">\n</tbody>\n</table>'})}();